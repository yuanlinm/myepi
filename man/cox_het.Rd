% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/6-cox_het.R
\name{cox_het}
\alias{cox_het}
\title{Cox亚组异质性检验（对接cox_run_sub结果）}
\usage{
cox_het(df, method = "REML", digits = 3, ...)
}
\arguments{
\item{df}{cox_run_sub等输出的数据框，需包含Subgroup、beta、se列，Subgroup格式为“亚组名: 水平”
- Subgroup：字符型，格式如"sex: female"，冒号前为亚组名，后为水平。
- beta：主效应log(HR)或log(OR)等，作为效应量。
- se：beta的标准误。}

\item{method}{metafor::rma的method参数，默认"FE"（固定效应），可选"DL"、"REML"等}

\item{digits}{保留小数位，默认2}

\item{...}{传递给metafor::rma的其他参数}
}
\value{
一个数据框，包含亚组、组数、Q统计量、p值、I2等异质性指标
}
\description{
对`cox_run_sub`/`cox_run_sub`等函数输出的亚组分析结果，按Subgroup列自动分组，调用metafor::rma进行异质性检验，输出Q统计量、p值、I2等。
}
\details{
- 自动识别Subgroup列（格式如"sex: female"），对每个亚组名分组，调用metafor::rma进行异质性检验。
  - 必须包含列：Subgroup（分组信息）、beta（效应量）、se（标准误）。
  - 若需自定义效应量或标准误，请确保列名与上述一致，或在调用前重命名。
  - 适用于cox_run_sub等标准输出。
}
